{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/Proyek%20PADSI/PADSI-KEOS/src/lib/db.ts"],"sourcesContent":["import { Pool } from \"pg\";\n\nlet pool: Pool | null = null;\n\nfunction getPool() {\n  if (!pool) {\n    pool = new Pool({\n      connectionString: process.env.DATABASE_URL,\n      ssl: {\n        rejectUnauthorized: false,\n      },\n    });\n  }\n  return pool;\n}\n\nexport async function query<T = any>(\n  text: string,\n  params?: any[]\n): Promise<{ rows: T[] }> {\n  const p = getPool();\n  const res = await p.query(text, params);\n  return res as any;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,OAAoB;AAExB,SAAS;IACP,IAAI,CAAC,MAAM;QACT,OAAO,IAAI,qGAAI,CAAC;YACd,kBAAkB,QAAQ,GAAG,CAAC,YAAY;YAC1C,KAAK;gBACH,oBAAoB;YACtB;QACF;IACF;IACA,OAAO;AACT;AAEO,eAAe,MACpB,IAAY,EACZ,MAAc;IAEd,MAAM,IAAI;IACV,MAAM,MAAM,MAAM,EAAE,KAAK,CAAC,MAAM;IAChC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///D:/Proyek%20PADSI/PADSI-KEOS/src/app/api/menus/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { query } from \"@/lib/db\";\n\n// âž• Tambah menu baru\nexport async function POST(req: NextRequest) {\n  const form = await req.formData();\n  const name = String(form.get(\"name\") || \"\");\n  const price = Number(form.get(\"price\") || 0);\n  const image_url = String(form.get(\"image_url\") || \"\");\n\n  // Simpan menu baru ke database\n  await query(\n    \"INSERT INTO menus (name, price, image_url, is_active) VALUES ($1, $2, $3, true)\",\n    [name, price, image_url]\n  );\n\n  return NextResponse.redirect(new URL(\"/menu\", req.url));\n}\n\n// ðŸ“¦ Ambil semua menu aktif\nexport async function GET() {\n  const { rows } = await query(\n    \"SELECT id, name, price, image_url, created_at FROM menus WHERE is_active = true ORDER BY created_at DESC\"\n  );\n  return NextResponse.json(rows);\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,eAAe,KAAK,GAAgB;IACzC,MAAM,OAAO,MAAM,IAAI,QAAQ;IAC/B,MAAM,OAAO,OAAO,KAAK,GAAG,CAAC,WAAW;IACxC,MAAM,QAAQ,OAAO,KAAK,GAAG,CAAC,YAAY;IAC1C,MAAM,YAAY,OAAO,KAAK,GAAG,CAAC,gBAAgB;IAElD,+BAA+B;IAC/B,MAAM,IAAA,2HAAK,EACT,mFACA;QAAC;QAAM;QAAO;KAAU;IAG1B,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,IAAI,GAAG;AACvD;AAGO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,2HAAK,EAC1B;IAEF,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B","debugId":null}}]
}